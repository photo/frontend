/* bootstrap-modal.min.js */
!function(b){function k(){var a=this,c=setTimeout(function(){a.$element.off(b.support.transition.end);g.call(a)},500);this.$element.one(b.support.transition.end,function(){clearTimeout(c);g.call(a)})}function g(){this.$element.hide().trigger("hidden");h.call(this)}function h(a){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=b.support.transition&&c;this.$backdrop=b('<div class="modal-backdrop '+c+'" />').appendTo(document.body);"static"!=this.options.backdrop&&
this.$backdrop.click(b.proxy(this.hide,this));d&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");d?this.$backdrop.one(b.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b.support.transition.end,b.proxy(i,this)):i.call(this)):a&&a()}function i(){this.$backdrop.remove();this.$backdrop=null}function j(){var a=this;if(this.isShown&&this.options.keyboard)b(document).on("keyup.dismiss.modal",
function(b){27==b.which&&a.hide()});else this.isShown||b(document).off("keyup.dismiss.modal")}var f=function(a,c){this.options=c;this.$element=b(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",b.proxy(this.hide,this))};f.prototype={constructor:f,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var a=this;this.isShown||(b("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),j.call(this),h.call(this,function(){var c=b.support.transition&&
a.$element.hasClass("fade");!a.$element.parent().length&&a.$element.appendTo(document.body);a.$element.show();c&&a.$element[0].offsetWidth;a.$element.addClass("in");c?a.$element.one(b.support.transition.end,function(){a.$element.trigger("shown")}):a.$element.trigger("shown")}))},hide:function(a){a&&a.preventDefault();this.isShown&&(this.isShown=!1,b("body").removeClass("modal-open"),j.call(this),this.$element.trigger("hide").removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?k.call(this):
g.call(this))}};b.fn.modal=function(a){return this.each(function(){var c=b(this),d=c.data("modal"),e=b.extend({},b.fn.modal.defaults,c.data(),"object"==typeof a&&a);d||c.data("modal",d=new f(this,e));if("string"==typeof a)d[a]();else e.show&&d.show()})};b.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};b.fn.modal.Constructor=f;b(function(){b("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var c=b(this),d,e=b(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,
"")),c=e.data("modal")?"toggle":b.extend({},e.data(),c.data());a.preventDefault();e.modal(c)})})}(window.jQuery);
/* bootstrap-typeahead.min.js */
!function(b){var f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.typeahead.defaults,c);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.$menu=b(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=!1;this.delimiter=this.options.delimiter||this.delimiter;this.listen();this.mode=this.options.mode||this.mode;this.selections=[]};f.prototype={constructor:f,
select:function(){var a=this.$menu.find(".active").attr("data-value");"multiple"===this.mode&&(this.selections.push(a),a=this.selections.join(this.formatteddelimiter())+this.formatteddelimiter());this.$element.val(a);return this.hide()},show:function(){var a=b.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:a.top+a.height,left:a.left});this.$menu.show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(){var a=
this,c;c="multiple"===this.mode?this.$element.val().split(this.formatteddelimiter()):[this.$element.val()];this.selections=c.slice(0,c.length-1);this.query=b.trim(c[c.length-1]);if(!this.query)return this.shown?this.hide():this;c=b.grep(this.source,function(c){if(a.matcher(c))return c});c=this.sorter(c);return!c.length?this.shown?this.hide():this:this.render(c.slice(0,this.options.items)).show()},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var c=
[],b=[],d=[],e;e=a.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?b.push(e):d.push(e):c.push(e);return c.concat(b,d)},highlighter:function(a){return a.replace(RegExp("("+this.query+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var c=this,a=b(a).map(function(a,d){a=b(c.options.item).attr("data-value",d);a.find("a").html(c.highlighter(d));return a[0]});a.first().addClass("active");this.$menu.html(a);return this},next:function(){var a=
this.$menu.find(".active").removeClass("active").next();a.length||(a=b(this.$menu.find("li")[0]));a.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(b.browser.webkit||b.browser.msie)this.$element.on("keydown",b.proxy(this.keypress,this));
this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this))},formatteddelimiter:function(){return this.delimiter+" "},keyup:function(a){a.stopPropagation();a.preventDefault();switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)break;this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(a){a.stopPropagation();if(this.shown)switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();
this.prev();break;case 40:a.preventDefault(),this.next()}},blur:function(a){var b=this;a.stopPropagation();a.preventDefault();setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active");b(a.currentTarget).addClass("active")}};b.fn.typeahead=function(a){return this.each(function(){var c=b(this),g=c.data("typeahead"),d="object"==typeof a&&a;g||c.data("typeahead",g=new f(this,d));
if("string"==typeof a)g[a]()})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',delimiter:",",mode:"single"};b.fn.typeahead.Constructor=f;b(function(){b("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var c=b(this);c.data("typeahead")||(a.preventDefault(),c.typeahead(c.data()))})})}(window.jQuery);
/* bootstrap.min.js */
/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-transition.js, bootstrap-modal.js, bootstrap-dropdown.js, bootstrap-scrollspy.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-popover.js, bootstrap-alert.js, bootstrap-button.js, bootstrap-collapse.js, bootstrap-carousel.js, bootstrap-typeahead.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(a){a(function(){a.support.transition=function(){var b=document.body||document.documentElement,c=b.style,d=c.transition!==undefined||c.WebkitTransition!==undefined||c.MozTransition!==undefined||c.MsTransition!==undefined||c.OTransition!==undefined;return d&&{end:function(){var b="TransitionEnd";return a.browser.webkit?b="webkitTransitionEnd":a.browser.mozilla?b="transitionend":a.browser.opera&&(b="oTransitionEnd"),b}()}}()})}(window.jQuery),!function(a){function c(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),d.call(b)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),d.call(b)})}function d(a){this.$element.hide().trigger("hidden"),e.call(this)}function e(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(f,this)):f.call(this)):b&&b()}function f(){this.$backdrop.remove(),this.$backdrop=null}function g(){var b=this;this.isShown&&this.options.keyboard?a(document).on("keyup.dismiss.modal",function(a){a.which==27&&b.hide()}):this.isShown||a(document).off("keyup.dismiss.modal")}var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this;if(this.isShown)return;a("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),g.call(this),e.call(this,function(){var c=a.support.transition&&b.$element.hasClass("fade");!b.$element.parent().length&&b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in"),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();if(!this.isShown)return;var e=this;this.isShown=!1,a("body").removeClass("modal-open"),g.call(this),this.$element.trigger("hide").removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?c.call(this):d.call(this)}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({},e.data(),c.data());b.preventDefault(),e.modal(f)})})}(window.jQuery),!function(a){function d(){a(b).parent().removeClass("open")}var b='[data-toggle="dropdown"]',c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),e=c.attr("data-target"),f,g;return e||(e=c.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),f=a(e),f.length||(f=c.parent()),g=f.hasClass("open"),d(),!g&&f.toggleClass("open"),!1}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api",d),a("body").on("click.dropdown.data-api",b,c.prototype.toggle)})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body").on("click.scroll.data-api",this.selector,d),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var b=a(this).attr("href");return/^#\w/.test(b)&&a(b).length?b:null}),this.offsets=a.map(this.targets,function(b){return a(b).position().top})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.offsets,c=this.targets,d=this.activeTarget,e;for(e=b.length;e--;)d!=c[e]&&a>=b[e]&&(!b[e+1]||a<=b[e+1])&&this.activate(c[e])},activate:function(a){var b;this.activeTarget=a,this.$body.find(this.selector).parent(".active").removeClass("active"),b=this.$body.find(this.selector+'[href="'+a+'"]').parent("li").addClass("active"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],b.trigger({type:"show",relatedTarget:e}),f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);!c.options.delay||!c.options.delay.show?c.show():(c.hoverState="in",setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show))},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);!c.options.delay||!c.options.delay.hide?c.hide():(c.hoverState="out",setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide))},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip();a.find(".tooltip-inner").html(this.getTitle()),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a=a.toString().replace(/(^\s*|\s*$)/,""),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(a){var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var b=this.tip(),c=this.getTitle(),d=this.getContent();b.find(".popover-title")[a.type(c)=="object"?"append":"html"](c),b.find(".popover-content > *")[a.type(d)=="object"?"append":"html"](d),b.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a=a.toString().replace(/(^\s*|\s*$)/,""),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype={constructor:c,close:function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),e.trigger("close"),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger("close").removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()}},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype={constructor:b,setState:function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},toggle:function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")}},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find(".in"),e;d&&d.length&&(e=d.data("collapse"),d.collapse("hide"),e||d.data("collapse",null)),this.$element[b](0),this.transition("addClass","show","shown"),this.$element[b](this.$element[0][c])},hide:function(){var a=this.dimension();this.reset(this.$element[a]()),this.transition("removeClass","hide","hidden"),this.$element[a](0)},reset:function(a){var b=this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element.addClass("collapse")},transition:function(b,c,d){var e=this,f=function(){c=="show"&&e.reset(),e.$element.trigger(d)};this.$element.trigger(c)[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();a(e).collapse(f)})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.carousel.defaults,c),this.options.slide&&this.slide(this.options.slide)};b.prototype={cycle:function(){return this.interval=setInterval(a.proxy(this.next,this),this.options.interval),this},to:function(b){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this;if(!e.length)return;return this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h](),!a.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.trigger("slide"),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})),f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=typeof c=="object"&&c;e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):typeof c=="string"||(c=f.slide)?e[c]():e.cycle()})},a.fn.carousel.defaults={interval:5e3},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(a),this.hide()},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c=this,d,e;return this.query=this.$element.val(),this.query?(d=a.grep(this.source,function(a){if(c.matcher(a))return a}),d=this.sorter(d),d.length?this.render(d.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){return a.replace(new RegExp("("+this.query+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keypress,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(a){a.stopPropagation(),a.preventDefault();switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:this.hide();break;default:this.lookup()}},keypress:function(a){a.stopPropagation();if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}},blur:function(a){var b=this;a.stopPropagation(),a.preventDefault(),setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery)/* browserupdate.min.js */
var $buo=function(e,h){var a=window.navigator,f;this.op=e||{};this.op.l=e.l||a.language||a.userLanguage||document.documentElement.getAttribute("lang")||"en";this.op.vsakt={i:9,f:10,o:12,s:5.1,n:20};this.op.vsdefault={i:6,f:3.5,o:10.1,s:3.2,n:10};this.op.vs=e.vs||this.op.vsdefault;for(f in this.op.vsakt)this.op.vs[f]>=this.op.vsakt[f]&&(this.op.vs[f]=this.op.vsakt[f]-0.05);this.op.reminder=!e.reminder||0.1>e.reminder?0:e.reminder||24;this.op.onshow=e.onshow||function(){};this.op.url=e.url||"http://browser-update.org/update.html";
this.op.pageurl=e.pageurl||window.location.hostname||"unknown";this.op.newwindow=e.newwindow||!1;this.op.test=h||e.test||!1;"#test-bu"==window.location.hash&&(this.op.test=!0);this.op.browser=function(){var d,b;b=navigator.userAgent;var a={i:"Internet Explorer",f:"Firefox",o:"Opera",s:"Apple Safari",n:"Netscape Navigator",c:"Chrome",x:"Other"};if(/like firefox|chromeframe|seamonkey|opera mini|meego|netfront|moblin|maemo|arora|camino|flot|k-meleon|fennec|kazehakase|galeon|android|mobile|iphone|ipod|ipad|epiphany|rekonq|symbian|webos/i.test(b))d=
"x";else if(/trident.(\d+\.\d+);/.test(b))d="io";else if(/MSIE (\d+\.\d+);/.test(b))d="i";else if(/Chrome.(\d+\.\d+)/i.test(b))d="c";else if(/Firefox.(\d+\.\d+)/i.test(b))d="f";else if(/Version.(\d+.\d+).{0,10}Safari/i.test(b))d="s";else if(/Safari.(\d+)/i.test(b))d="so";else if(/Opera.*Version.(\d+\.?\d+)/i.test(b))d="o";else if(/Opera.(\d+\.?\d+)/i.test(b))d="o";else if(/Netscape.(\d+)/i.test(b))d="n";else return{n:"x",v:0,t:a[d]};if("x"==d)return{n:"x",v:0,t:a[d]};b=new Number(RegExp.$1);"so"==
d&&(b=100>b&&1||130>b&&1.2||320>b&&1.3||520>b&&2||524>b&&3||526>b&&3.2||4,d="s");"i"==d&&7==b&&window.XDomainRequest&&(b=8);"io"==d&&(d="i",4<b?b=9:3.1<b?b=8:3<b&&(b=7));return{n:d,v:b,t:a[d]+" "+b}}();if(this.op.test||this.op.browser&&this.op.browser.n&&!("x"==this.op.browser.n||"c"==this.op.browser.n||-1<document.cookie.indexOf("browserupdateorg=pause")||this.op.browser.v>this.op.vs[this.op.browser.n])){this.op.test||new Image;0<this.op.reminder&&(a=new Date((new Date).getTime()+36E5*this.op.reminder),
document.cookie="browserupdateorg=pause; expires="+a.toGMTString()+"; path=/");a=this.op.l.substr(0,2);!1!=="de,en".indexOf(a)&&(this.op.url="http://browser-update.org/"+a+"/update.html#5");f="";this.op.newwindow&&(f=' target="_blank"');var c="Your browser (%s) is <b>out of date</b>. It has known <b>security flaws</b> and may <b>not display all features</b> of this and other websites.          <a%s>Learn how to update your browser</a>";"de"==a?c="Sie verwenden einen <b>veralteten Browser</b> (%s) mit <b>Sicherheitsschwachstellen</b> und <b>k&ouml;nnen nicht alle Funktionen dieser Webseite nutzen</b>.         <a%s>Hier erfahren Sie, wie einfach Sie Ihren Browser aktualisieren k&ouml;nnen</a>.":
"it"==a?c="Il tuo browser (%s) <b>non \u00e8 aggiornato</b>. Ha delle <b>falle di sicurezza</b> e potrebbe <b>non visualizzare correttamente</b> le         pagine di questo e altri siti.         <a%s>Aggiorna il tuo browser</a>!":"pl"==a?c="Przegl\u0105darka (%s), kt\u00f3rej u\u017cywasz, jest przestarza\u0142a. Posiada ona udokumentowane <b>luki bezpiecze\u0144stwa, inne wady</b> oraz <b>ograniczon\u0105 funkcjonalno\u015b\u0107</b>. Tracisz mo\u017cliwo\u015b\u0107 skorzystania z pe\u0142ni mo\u017cliwo\u015bci oferowanych przez niekt\u00f3re strony internetowe. <a%s>Dowiedz si\u0119 jak zaktualizowa\u0107 swoj\u0105 przegl\u0105dark\u0119</a>.":
"es"==a?c="Tu navegador (%s) est\u00e1 <b>desactualizado</b>. Tiene conocidas <b>fallas de seguridad</b> y podr\u00eda <b>no mostrar todas las caracter\u00edsticas</b> de este y otros sitios web. <a%s>Apr\u00e9nde c\u00f3mo puedes actualizar tu navegador</a>":"nl"==a?c="Uw browser (%s) is <b>oud</b>. Het heeft bekende <b>veiligheidsissues</b> en kan <b>niet alle mogelijkheden</b> weergeven van deze of andere websites. <a%s>Lees meer over hoe uw browser te upgraden</a>":"pt"==a?c="Seu navegador (%s) est\u00e1 <b>desatualizado</b>. Ele possui <b>falhas de seguran\u00e7a</b> e pode <b>apresentar problemas</b> para exibir este e outros websites. <a%s>Veja como atualizar o seu navegador</a>":
"sl"==a?c="Va\u0161 brskalnik (%s) je <b>zastarel</b>. Ima ve\u010d <b>varnostnih pomankljivosti</b> in morda <b>ne bo pravilno prikazal</b> te ali drugih strani.         <a%s>Poglejte kako lahko posodobite svoj brskalnik</a>":"ru"==a?c="\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (%s) <b>\u0443\u0441\u0442\u0430\u0440\u0435\u043b</b>. \u041e\u043d \u0438\u043c\u0435\u0435\u0442 <b>\u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u0438 \u0432 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438</b> \u0438 \u043c\u043e\u0436\u0435\u0442 <b>\u043d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438</b> \u043d\u0430 \u044d\u0442\u043e\u043c \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0430\u0439\u0442\u0430\u0445. <a%s>\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0430\u043a \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440</a>":
"id"==a?c="Browser Anda (% s) sudah <b>kedaluarsa</b>. Browser yang Anda pakai memiliki <b>kelemahan keamanan</b> dan mungkin <b>tidak dapat menampilkan semua fitur</b> dari situs Web ini dan lainnya. <a%s> Pelajari cara memperbarui browser Anda</a>":"uk"==a?c="\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (%s) <b>\u0437\u0430\u0441\u0442\u0430\u0440\u0456\u0432</b>. \u0412\u0456\u043d <b>\u0443\u0440\u0430\u0437\u043b\u0438\u0432\u0438\u0439</b> \u0439 \u043c\u043e\u0436\u0435 <b>\u043d\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438 \u0432\u0441\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456</b> \u043d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0439 \u0456\u043d\u0448\u0438\u0445 \u0441\u0430\u0439\u0442\u0430\u0445. <a%s>\u0414\u0456\u0437\u043d\u0430\u0439\u0442\u0435\u0441\u044c, \u044f\u043a \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440</a>":
"ko"==a?c="\uc9c0\uae08 \uc0ac\uc6a9\ud558\uace0 \uacc4\uc2e0 \ube0c\ub77c\uc6b0\uc800(%s)\ub294 <b>\uc624\ub798\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</b> \uc54c\ub824\uc9c4 <b>\ubcf4\uc548 \ucde8\uc57d\uc810</b>\uc774 \uc874\uc7ac\ud558\uba70, \uc0c8\ub85c\uc6b4 \uc6f9 \uc0ac\uc774\ud2b8\uac00 <b>\uae68\uc838 \ubcf4\uc77c \uc218\ub3c4</b> \uc788\uc2b5\ub2c8\ub2e4. <a%s>\ube0c\ub77c\uc6b0\uc800\ub97c \uc5b4\ub5bb\uac8c \uc5c5\ub370\uc774\ud2b8\ud558\ub098\uc694?</a>":"rm"==a?c="Tes navigatur (%s) \u00e8 <b>antiqu\u00e0</b>. El cuntegna <b>problems da segirezza</b> enconuschents e mussa eventualmain <b>betg tut las funcziuns</b> da questa ed autras websites. <a%s>Emprenda sco actualisar tes navigatur</a>.":
"ja"==a?c="\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u300c%s\u300d\u306f\u3001<b>\u6642\u4ee3\u9045\u308c</b>\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\u65e2\u77e5\u306e<b>\u8106\u5f31\u6027</b>\u304c\u5b58\u5728\u3059\u308b\u3070\u304b\u308a\u304b\u3001<b>\u6a5f\u80fd\u4e0d\u8db3</b>\u306b\u3088\u3063\u3066\u3001\u30b5\u30a4\u30c8\u304c\u6b63\u5e38\u306b\u8868\u793a\u3067\u304d\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002          <a%s>\u30d6\u30e9\u30a6\u30b6\u3092\u66f4\u65b0\u3059\u308b\u65b9\u6cd5\u3092\u78ba\u8a8d\u3059\u308b</a>":
"fr"==a?c="Votre navigateur (%s) est <b>p\u00e9rim\u00e9</b>. Il contient des <b>failles de s\u00e9curit\u00e9</b> et pourrait <b>ne pas afficher certaines fonctionalit\u00e9s</b> des sites internet r\u00e9cents. <a%s>D\u00e9couvrez comment mettre votre navigateur \u00e0 jour</a>":"da"==a?c="Din browser (%s) er <b>for\u00e6ldet</b>. Den har kendte <b>sikkerhedshuller</b> og kan m\u00e5ske <b>ikke vise alle funktioner</b> p\u00e5 dette og andre websteder. <a%s>Se hvordan du opdaterer din browser</a>":
"al"==a&&(c="Shfletuesi juaj (%s) \u00ebsht\u00eb <b>ca i vjet\u00ebr</b>. Ai ka <b>t\u00eb meta sigurie</b> t\u00eb njohura dhe mundet t\u00eb <b>mos i shfaq\u00eb t\u00eb gjitha karakteristikat</b> e k\u00ebsaj dhe shum\u00eb faqeve web t\u00eb tjera. <a%s>M\u00ebsoni se si t\u00eb p\u00ebrdit\u00ebsoni shfletuesin tuaj</a>");e.text&&(c=e.text);this.op.text=function(){for(var a=arguments,b=a[0],c=1;c<a.length;++c)b=b.replace(/%s/,a[c]);return b}(c,this.op.browser.t,' href="'+this.op.url+'"'+f);
a=document.createElement("div");this.op.div=a;a.id="buorg";a.className="buorg";a.innerHTML="<div>"+this.op.text+'<div id="buorgclose">X</div></div>';f=document.createElement("style");document.body.insertBefore(a,document.body.firstChild);document.getElementsByTagName("head")[0].appendChild(f);try{f.innerText=".buorg {position:absolute;z-index:111111;width:100%; top:0px; left:0px; border-bottom:1px solid #A29330; background:#FDF2AB no-repeat 10px center url(http://browser-update.org/img/dialog-warning.gif);text-align:left; cursor:pointer; font-family: Arial,Helvetica,sans-serif; color:#000; font-size: 12px;}.buorg div { padding:5px 36px 5px 40px; } .buorg a,.buorg a:visited  {color:#E25600; text-decoration: underline;}#buorgclose { position: absolute; right: .5em; top:.2em; height: 20px; width: 12px; font-weight: bold;font-size:14px; padding:0; }",
f.innerHTML=".buorg {position:absolute;z-index:111111;width:100%; top:0px; left:0px; border-bottom:1px solid #A29330; background:#FDF2AB no-repeat 10px center url(http://browser-update.org/img/dialog-warning.gif);text-align:left; cursor:pointer; font-family: Arial,Helvetica,sans-serif; color:#000; font-size: 12px;}.buorg div { padding:5px 36px 5px 40px; } .buorg a,.buorg a:visited  {color:#E25600; text-decoration: underline;}#buorgclose { position: absolute; right: .5em; top:.2em; height: 20px; width: 12px; font-weight: bold;font-size:14px; padding:0; }"}catch(i){try{f.styleSheet.cssText=
".buorg {position:absolute;z-index:111111;width:100%; top:0px; left:0px; border-bottom:1px solid #A29330; background:#FDF2AB no-repeat 10px center url(http://browser-update.org/img/dialog-warning.gif);text-align:left; cursor:pointer; font-family: Arial,Helvetica,sans-serif; color:#000; font-size: 12px;}.buorg div { padding:5px 36px 5px 40px; } .buorg a,.buorg a:visited  {color:#E25600; text-decoration: underline;}#buorgclose { position: absolute; right: .5em; top:.2em; height: 20px; width: 12px; font-weight: bold;font-size:14px; padding:0; }"}catch(j){return}}var g=
this;a.onclick=function(){g.op.newwindow?window.open(g.op.url,"_blank"):window.location.href=g.op.url;return!1};a.getElementsByTagName("a")[0].onclick=function(a){a=a||window.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!0};this.op.bodymt=document.body.style.marginTop;document.body.style.marginTop=a.clientHeight+"px";document.getElementById("buorgclose").onclick=function(a){a=a||window.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;g.op.div.style.display="none";
document.body.style.marginTop=g.op.bodymt;return!0};e.onshow(this.op)}},$buoop=$buoop||{};$bu=$buo($buoop);
/* gallery.min.js */
var Gallery=function(f){var h=function(c,a){return void 0===typeof c||null==c?a:c},j=function(c){var a={href:c},c=c.replace("//","/").split("/");a.protocol=c[0];a.host=c[1];c[1]=c[1].split(":");a.hostname=c[1][0];a.port=1<c[1].length?c[1][1]:"";c.splice(0,2);a.pathname="/"+c.join("/");a.pathname=a.pathname.split("#");a.hash=1<a.pathname.length?"#"+a.pathname[1]:"";a.pathname=a.pathname[0];a.pathname=a.pathname.split("?");a.search=1<a.pathname.length?"?"+a.pathname[1]:"";a.pathname=a.pathname[0];return a},
k=function(c,a){for(var e=[],d=0;0<a.length&&d<c;){var b=a.shift();e.push(b);d+=b.photo960x180[1]+6}b=d-c;if(0<e.length&&0<b){var i=d,d=[],h=0,g;for(g in e)d[g]=Math.floor(e[g].photo960x180[1]/i*b),h+=d[g];for(b-=h;0<b;)for(g in d)if(d[g]++,b--,0==b)break;for(var f in e)g=d[f],b=e[f],b.vx=Math.floor(g/2),b.vwidth=b.photo960x180[1]-g}else for(f in e)b=e[f],b.vx=0,b.vwidth=b.photo960x180[1];return e},l=function(c,a){var e=f('<div class="imageContainer"/>'),d=f("<div/>");d.css("width",""+h(a.vwidth,
120)+"px");d.css("height",""+h(a.path960x180[1],120)+"px");d.css("overflow","hidden");var b=j(a.url),i=f("<a/>");i.attr("href",b.pathname);b=f("<img/>");b.attr("src",a.path960x180);b.attr("class","photo-view-modal-click");b.attr("title",a.title);b.css("width",""+h(a.path960x180[1],120)+"px");b.css("height",""+h(a.path960x180[2],120)+"px");b.css("margin-left",""+(a.vx?-a.vx:0)+"px");b.css("margin-top","0px");b.hide();i.append(b);d.append(i);e.append(d);b.bind("load",function(){f(this).fadeIn(500)});
c.append(e);return a.el=e};return{showImages:function(c,a){for(var e=c.width()-1,d=a.slice(),b=[];0<d.length;)b.push(k(e,d));for(var f in b)for(var j in b[f])if(e=b[f][j],e.el){var d=e.el.find("div:first"),g=d.find("img:first");d.css("width",""+h(e.vwidth,120)+"px");d.css("height",""+h(e.theight,120)+"px");g.css("margin-left",""+(e.vx?-e.vx:0)+"px");g.css("margin-top","0px")}else l(c,e);c.append('<br clear="all"/>')}}}(jQuery);
/* jquery.history.min.js */
window.JSON||(window.JSON={});
(function(){function c(b){return 10>b?"0"+b:b}function m(b){return f.lastIndex=0,f.test(b)?'"'+b.replace(f,function(b){var a=k[b];return"string"==typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function j(b,i){var a,c,f,k,h=g,e,d=i[b];d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(b));"function"==typeof n&&(d=n.call(i,b,d));switch(typeof d){case "string":return m(d);case "number":return isFinite(d)?""+d:"null";case "boolean":case "null":return""+d;
case "object":if(!d)return"null";g+=o;e=[];if("[object Array]"===Object.prototype.toString.apply(d)){k=d.length;for(a=0;a<k;a+=1)e[a]=j(a,d)||"null";return f=0===e.length?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+h+"]":"["+e.join(",")+"]",g=h,f}if(n&&"object"==typeof n){k=n.length;for(a=0;a<k;a+=1)c=n[a],"string"==typeof c&&(f=j(c,d),f&&e.push(m(c)+(g?": ":":")+f))}else for(c in d)Object.hasOwnProperty.call(d,c)&&(f=j(c,d),f&&e.push(m(c)+(g?": ":":")+f));return f=0===e.length?"{}":g?"{\n"+g+e.join(",\n"+
g)+"\n"+h+"}":"{"+e.join(",")+"}",g=h,f}}"use strict";"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=window.JSON,i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,o,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!=typeof b.stringify&&(b.stringify=function(b,i,a){var c;g="";o="";if("number"==typeof a)for(c=0;c<a;c+=1)o+=" ";else"string"==typeof a&&(o=a);n=i;if(!i||"function"==typeof i||"object"==typeof i&&"number"==typeof i.length)return j("",{"":b});throw Error("JSON.stringify");
});"function"!=typeof b.parse&&(b.parse=function(b,c){function a(b,i){var h,e,d=b[i];if(d&&"object"==typeof d)for(h in d)Object.hasOwnProperty.call(d,h)&&(e=a(d,h),void 0!==e?d[h]=e:delete d[h]);return c.call(b,i,d)}var f;b=""+b;i.lastIndex=0;i.test(b)&&(b=b.replace(i,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return f=eval("("+b+")"),"function"==typeof c?a({"":f},""):f;throw new SyntaxError("JSON.parse");})})();(function(c,m){var j=c.History=c.History||{},b=c.jQuery;if("undefined"!=typeof j.Adapter)throw Error("History.js Adapter has already been loaded...");j.Adapter={bind:function(i,c,g){b(i).bind(c,g)},trigger:function(c,f,g){b(c).trigger(f,g)},extractEventData:function(b,c,g){return c&&c.originalEvent&&c.originalEvent[b]||g&&g[b]||m},onDomLoad:function(c){b(c)}};"undefined"!=typeof j.init&&j.init()})(window);
(function(c){var m=c.document,j=c.setInterval||j,b=c.History=c.History||{};if("undefined"!=typeof b.initHtml4)throw Error("History.js HTML4 Support has already been loaded...");b.initHtml4=function(){if("undefined"!=typeof b.initHtml4.initialized)return!1;b.initHtml4.initialized=!0;b.enabled=!0;b.savedHashes=[];b.isLastHash=function(c){var f=b.getHashByIndex(),g;return g=c===f,g};b.saveHash=function(c){return b.isLastHash(c)?!1:(b.savedHashes.push(c),!0)};b.getHashByIndex=function(b){return null};
b.discardedHashes={};b.discardedStates={};b.discardState=function(c,f,g){var j=b.getHashByState(c),k;return k={discardedState:c,backState:g,forwardState:f},b.discardedStates[j]=k,!0};b.discardHash=function(c,f,g){return b.discardedHashes[c]={discardedHash:c,backState:g,forwardState:f},!0};b.discardedState=function(c){var c=b.getHashByState(c),f;return f=b.discardedStates[c]||!1,f};b.discardedHash=function(c){return b.discardedHashes[c]||!1};b.recycleState=function(c){var f=b.getHashByState(c);return b.discardedState(c)&&
delete b.discardedStates[f],!0};b.emulated.hashChange&&(b.hashChangeInit=function(){b.checkerFunction=null;var i="",f,g,o;return b.isInternetExplorer()?(f=m.createElement("iframe"),f.setAttribute("id","historyjs-iframe"),f.style.display="none",m.body.appendChild(f),f.contentWindow.document.open(),f.contentWindow.document.close(),g="",o=!1,b.checkerFunction=function(){if(o)return!1;o=!0;var k=b.getHash()||"",j=b.unescapeHash(f.contentWindow.document.location.hash)||"";return k!==i?(i=k,j!==k&&(g=k,
f.contentWindow.document.open(),f.contentWindow.document.close(),f.contentWindow.document.location.hash=b.escapeHash(k)),b.Adapter.trigger(c,"hashchange")):j!==g&&(g=j,b.setHash(j,!1)),o=!1,!0}):b.checkerFunction=function(){var f=b.getHash();return f!==i&&(i=f,b.Adapter.trigger(c,"hashchange")),!0},b.intervalList.push(j(b.checkerFunction,b.options.hashChangeInterval)),!0},b.Adapter.onDomLoad(b.hashChangeInit));b.emulated.pushState&&(b.onHashChange=function(i){var i=b.getHashByUrl(i&&i.newURL||m.location.href),
f=null,g;return b.isLastHash(i)?(b.busy(!1),!1):(b.doubleCheckComplete(),b.saveHash(i),i&&b.isTraditionalAnchor(i)?(b.Adapter.trigger(c,"anchorchange"),b.busy(!1),!1):(f=b.extractState(b.getFullUrl(i||m.location.href,!1),!0),b.isLastSavedState(f)?(b.busy(!1),!1):(b.getHashByState(f),g=b.discardedState(f),g?(b.getHashByIndex(-2)===b.getHashByState(g.forwardState)?b.back(!1):b.forward(!1),!1):(b.pushState(f.data,f.title,f.url,!1),!0))))},b.Adapter.bind(c,"hashchange",b.onHashChange),b.pushState=function(i,
f,g,j){if(b.getHashByUrl(g))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==j&&b.busy())return b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:j}),!1;b.busy(!0);var k=b.createStateObject(i,f,g),n=b.getHashByState(k),l=b.getState(!1),l=b.getHashByState(l),q=b.getHash();return b.storeState(k),b.expectedStateId=k.id,b.recycleState(k),b.setTitle(k),n===l?(b.busy(!1),!1):n!==q&&n!==b.getShortUrl(m.location.href)?(b.setHash(n,!1),!1):
(b.saveState(k),b.Adapter.trigger(c,"statechange"),b.busy(!1),!0)},b.replaceState=function(c,f,g,j){if(b.getHashByUrl(g))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==j&&b.busy())return b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:j}),!1;b.busy(!0);var k=b.createStateObject(c,f,g),m=b.getState(!1),l=b.getStateByIndex(-2);return b.discardState(m,k,l),b.pushState(k.data,k.title,k.url,!1),!0});b.emulated.pushState&&b.getHash()&&
!b.emulated.hashChange&&b.Adapter.onDomLoad(function(){b.Adapter.trigger(c,"hashchange")})};"undefined"!=typeof b.init&&b.init()})(window);
(function(c,m){var j=c.console||m,b=c.document,i=c.navigator,f=c.sessionStorage||!1,g=c.setTimeout,o=c.clearTimeout,k=c.setInterval,n=c.clearInterval,l=c.JSON,q=c.alert,a=c.History=c.History||{},p=c.history;l.stringify=l.stringify||l.encode;l.parse=l.parse||l.decode;if("undefined"!=typeof a.init)throw Error("History.js Core has already been loaded...");a.init=function(){return"undefined"==typeof a.Adapter?!1:("undefined"!=typeof a.initCore&&a.initCore(),"undefined"!=typeof a.initHtml4&&a.initHtml4(),
!0)};a.initCore=function(){if("undefined"!=typeof a.initCore.initialized)return!1;a.initCore.initialized=!0;a.options=a.options||{};a.options.hashChangeInterval=a.options.hashChangeInterval||100;a.options.safariPollInterval=a.options.safariPollInterval||500;a.options.doubleCheckInterval=a.options.doubleCheckInterval||500;a.options.storeInterval=a.options.storeInterval||1E3;a.options.busyDelay=a.options.busyDelay||250;a.options.debug=a.options.debug||!1;a.options.initialTitle=a.options.initialTitle||
b.title;a.intervalList=[];a.clearAllIntervals=function(){var h,b=a.intervalList;if("undefined"!=typeof b&&null!==b){for(h=0;h<b.length;h++)n(b[h]);a.intervalList=null}};a.debug=function(){a.options.debug&&a.log.apply(a,arguments)};a.log=function(){var a="undefined"!=typeof j&&"undefined"!=typeof j.log&&"undefined"!=typeof j.log.apply,e=b.getElementById("log"),d,c,f,g;a?(c=Array.prototype.slice.call(arguments),d=c.shift(),"undefined"!=typeof j.debug?j.debug.apply(j,[d,c]):j.log.apply(j,[d,c])):d="\njmathai\n";
for(c=1,f=arguments.length;c<f;++c){g=arguments[c];if("object"==typeof g&&"undefined"!=typeof l)try{g=l.stringify(g)}catch(i){}d+="\n"+g+"\n"}return e?(e.value+=d+"\n-----\n",e.scrollTop=e.scrollHeight-e.clientHeight):a||q(d),!0};a.getInternetExplorerMajorVersion=function(){var h=a.getInternetExplorerMajorVersion,e;if("undefined"!=typeof a.getInternetExplorerMajorVersion.cached)e=a.getInternetExplorerMajorVersion.cached;else{e=3;for(var d=b.createElement("div"),c=d.getElementsByTagName("i");(d.innerHTML=
"<\!--[if gt IE "+ ++e+"]><i></i><![endif]--\>")&&c[0];);e=4<e?e:!1}return h.cached=e};a.isInternetExplorer=function(){return a.isInternetExplorer.cached="undefined"!=typeof a.isInternetExplorer.cached?a.isInternetExplorer.cached:Boolean(a.getInternetExplorerMajorVersion())};a.emulated={pushState:!Boolean(c.history&&c.history.pushState&&c.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in
c||"onhashchange"in b)||a.isInternetExplorer()&&8>a.getInternetExplorerMajorVersion())};a.enabled=!a.emulated.pushState;a.bugs={setHash:Boolean(!a.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!a.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(a.isInternetExplorer()&&8>a.getInternetExplorerMajorVersion()),hashEscape:Boolean(a.isInternetExplorer()&&
7>a.getInternetExplorerMajorVersion())};a.isEmptyObject=function(a){for(var b in a)return!1;return!0};a.cloneObject=function(a){var b,d;return a?(b=l.stringify(a),d=l.parse(b)):d={},d};a.getRootUrl=function(){var a=b.location.protocol+"//"+(b.location.hostname||b.location.host);b.location.port&&(a+=":"+b.location.port);return a+="/",a};a.getBaseHref=function(){var a=b.getElementsByTagName("base"),e="";return 1===a.length&&(e=null.href.replace(/[^\/]+$/,"")),e=e.replace(/\/+$/,""),e&&(e+="/"),e};a.getBaseUrl=
function(){return a.getBaseHref()||a.getBasePageUrl()||a.getRootUrl()};a.getPageUrl=function(){var h;return h=((a.getState(!1,!1)||{}).url||b.location.href).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"}),h};a.getBasePageUrl=function(){return b.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};a.getFullUrl=function(h,b){var d=h,c=h.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(h)||
("/"===c?d=a.getRootUrl()+h.replace(/^\/+/,""):"#"===c?d=a.getPageUrl().replace(/#.*/,"")+h:"?"===c?d=a.getPageUrl().replace(/[\?#].*/,"")+h:b?d=a.getBaseUrl()+h.replace(/^(\.\/)+/,""):d=a.getBasePageUrl()+h.replace(/^(\.\/)+/,"")),d.replace(/\#$/,"")};a.getShortUrl=function(h){var b=a.getBaseUrl(),d=a.getRootUrl();return a.emulated.pushState&&(h=h.replace(b,"")),h=h.replace(d,"/"),a.isTraditionalAnchor(h)&&(h="./"+h),h=h.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),h};a.store={};a.idToState=a.idToState||
{};a.stateToId=a.stateToId||{};a.urlToId=a.urlToId||{};a.storedStates=a.storedStates||[];a.savedStates=a.savedStates||[];a.normalizeStore=function(){a.store.idToState=a.store.idToState||{};a.store.urlToId=a.store.urlToId||{};a.store.stateToId=a.store.stateToId||{}};a.getState=function(h,b){"undefined"==typeof h&&(h=!0);"undefined"==typeof b&&(b=!0);var d=a.getLastSavedState();return!d&&b&&(d=a.createStateObject()),h&&(d=a.cloneObject(d),d.url=d.cleanUrl||d.url),d};a.getIdByState=function(b){var e=
a.extractId(b.url),d;if(!e)if(d=a.getStateString(b),"undefined"!=typeof a.stateToId[d])e=a.stateToId[d];else if("undefined"!=typeof a.store.stateToId[d])e=a.store.stateToId[d];else{for(;!(e=(new Date).getTime()+(""+Math.random()).replace(/\D/g,""),"undefined"==typeof a.idToState[e]&&"undefined"==typeof a.store.idToState[e]););a.stateToId[d]=e;a.idToState[e]=b}return e};a.normalizeState=function(h){var e;if(!h||"object"!=typeof h)h={};if("undefined"!=typeof h.normalized)return h;if(!h.data||"object"!=
typeof h.data)h.data={};e={};e.normalized=!0;e.title=h.title||"";e.url=a.getFullUrl(a.unescapeString(h.url||b.location.href));e.hash=a.getShortUrl(e.url);e.data=a.cloneObject(h.data);e.id=a.getIdByState(e);e.cleanUrl=e.url.replace(/\??\&_suid.*/,"");e.url=e.cleanUrl;h=!a.isEmptyObject(e.data);if(e.title||h)e.hash=a.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id;return e.hashedUrl=a.getFullUrl(e.hash),(a.emulated.pushState||a.bugs.safariPoll)&&
a.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e};a.createStateObject=function(b,e,d){b={data:b,title:e,url:d};return b=a.normalizeState(b),b};a.getStateById=function(b){b=""+b;return a.idToState[b]||a.store.idToState[b]||m};a.getStateString=function(b){var e,d,c;return e=a.normalizeState(b),d={data:e.data,title:b.title,url:b.url},c=l.stringify(d),c};a.getStateId=function(b){var e,d;return e=a.normalizeState(b),d=e.id,d};a.getHashByState=function(b){var e,d;return e=a.normalizeState(b),d=e.hash,d};a.extractId=
function(a){var b,d;return d=/(.*)\&_suid=([0-9]+)$/.exec(a),b=d?""+(d[2]||""):"",b||!1};a.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};a.extractState=function(b,e){var d=null,c,f;return e=e||!1,c=a.extractId(b),c&&(d=a.getStateById(c)),d||(f=a.getFullUrl(b),c=a.getIdByUrl(f)||!1,c&&(d=a.getStateById(c)),!d&&e&&!a.isTraditionalAnchor(b)&&(d=a.createStateObject(null,null,f))),d};a.getIdByUrl=function(b){return a.urlToId[b]||a.store.urlToId[b]||m};a.getLastSavedState=function(){return a.savedStates[a.savedStates.length-
1]||m};a.getLastStoredState=function(){return a.storedStates[a.storedStates.length-1]||m};a.hasUrlDuplicate=function(b){var e=!1,d;return d=a.extractState(b.url),e=d&&d.id!==b.id,e};a.storeState=function(b){return a.urlToId[b.url]=b.id,a.storedStates.push(a.cloneObject(b)),b};a.isLastSavedState=function(){return a.savedStates.length&&a.getLastSavedState(),!1};a.saveState=function(b){return a.isLastSavedState(b)?!1:(a.savedStates.push(a.cloneObject(b)),!0)};a.getStateByIndex=function(a){return null};
a.getHash=function(){return a.unescapeHash(b.location.hash)};a.unescapeString=function(a){for(var b;;){b=c.unescape(a);if(b===a)break;a=b}return a};a.unescapeHash=function(b){b=a.normalizeHash(b);return b=a.unescapeString(b),b};a.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};a.setHash=function(h,e){var d,c,f;return!1!==e&&a.busy()?(a.pushQueue({scope:a,callback:a.setHash,args:arguments,queue:e}),!1):(d=a.escapeHash(h),a.busy(!0),c=a.extractState(h,!0),c&&!a.emulated.pushState?
a.pushState(c.data,c.title,c.url,!1):b.location.hash!==d&&(a.bugs.setHash?(f=a.getPageUrl(),a.pushState(null,null,f+"#"+d,!1)):b.location.hash=d),a)};a.escapeHash=function(b){b=a.normalizeHash(b);return b=c.escape(b),a.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),b};a.getHashByUrl=function(b){b=(""+b).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=a.unescapeHash(b),b};a.setTitle=function(c){var e=c.title,d;e||(d=a.getStateByIndex(0),d&&
d.url===c.url&&(e=d.title||a.options.initialTitle));try{b.getElementsByTagName("title")[0].innerHTML=e.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}return b.title=e,a};a.queues=[];a.busy=function(b){"undefined"!=typeof b?a.busy.flag=b:"undefined"==typeof a.busy.flag&&(a.busy.flag=!1);if(!a.busy.flag){o(a.busy.timeout);var c=function(){var b,h,f;if(!a.busy.flag)for(b=a.queues.length-1;0<=b;--b)h=a.queues[b],0!==h.length&&(f=h.shift(),a.fireQueueItem(f),a.busy.timeout=
g(c,a.options.busyDelay))};a.busy.timeout=g(c,a.options.busyDelay)}return a.busy.flag};a.busy.flag=!1;a.fireQueueItem=function(b){return b.callback.apply(b.scope||a,b.args||[])};a.pushQueue=function(b){return a.queues[b.queue||0]=a.queues[b.queue||0]||[],a.queues[b.queue||0].push(b),a};a.queue=function(b,c){return"function"==typeof b&&(b={callback:b}),"undefined"!=typeof c&&(b.queue=c),a.busy()?a.pushQueue(b):a.fireQueueItem(b),a};a.clearQueue=function(){return a.busy.flag=!1,a.queues=[],a};a.stateChanged=
!1;a.doubleChecker=!1;a.doubleCheckComplete=function(){return a.stateChanged=!0,a.doubleCheckClear(),a};a.doubleCheckClear=function(){return a.doubleChecker&&(o(a.doubleChecker),a.doubleChecker=!1),a};a.doubleCheck=function(b){return a.stateChanged=!1,a.doubleCheckClear(),a.bugs.ieDoubleCheck&&(a.doubleChecker=g(function(){return a.doubleCheckClear(),a.stateChanged||b(),!0},a.options.doubleCheckInterval)),a};a.safariStatePoll=function(){var h=a.extractState(b.location.href);if(!a.isLastSavedState(h))return h||
a.createStateObject(),a.Adapter.trigger(c,"popstate"),a};a.back=function(b){return!1!==b&&a.busy()?(a.pushQueue({scope:a,callback:a.back,args:arguments,queue:b}),!1):(a.busy(!0),a.doubleCheck(function(){a.back(!1)}),p.go(-1),!0)};a.forward=function(b){return!1!==b&&a.busy()?(a.pushQueue({scope:a,callback:a.forward,args:arguments,queue:b}),!1):(a.busy(!0),a.doubleCheck(function(){a.forward(!1)}),p.go(1),!0)};a.go=function(b,c){var d;if(0<b)for(d=1;d<=b;++d)a.forward(c);else{if(!(0>b))throw Error("History.go: History.go requires a positive or negative integer passed.");
for(d=-1;d>=b;--d)a.back(c)}return a};if(a.emulated.pushState){var r=function(){};a.pushState=a.pushState||r;a.replaceState=a.replaceState||r}else a.onPopState=function(h,e){var d=!1,f=!1,g,i;return a.doubleCheckComplete(),g=a.getHash(),g?(i=a.extractState(g||b.location.href,!0),i?a.replaceState(i.data,i.title,i.url,!1):(a.Adapter.trigger(c,"anchorchange"),a.busy(!1)),a.expectedStateId=!1,!1):(d=a.Adapter.extractEventData("state",h,e)||!1,d?f=a.getStateById(d):a.expectedStateId?f=a.getStateById(a.expectedStateId):
f=a.extractState(b.location.href),f||(f=a.createStateObject(null,null,b.location.href)),a.expectedStateId=!1,a.isLastSavedState(f)?(a.busy(!1),!1):(a.storeState(f),a.saveState(f),a.setTitle(f),a.Adapter.trigger(c,"statechange"),a.busy(!1),!0))},a.Adapter.bind(c,"popstate",a.onPopState),a.pushState=function(b,e,d,f){if(a.getHashByUrl(d)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&a.busy())return a.pushQueue({scope:a,
callback:a.pushState,args:arguments,queue:f}),!1;a.busy(!0);var g=a.createStateObject(b,e,d);return a.isLastSavedState(g)?a.busy(!1):(a.storeState(g),a.expectedStateId=g.id,p.pushState(g.id,g.title,g.url),a.Adapter.trigger(c,"popstate")),!0},a.replaceState=function(b,e,d,f){if(a.getHashByUrl(d)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==f&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:f}),
!1;a.busy(!0);var g=a.createStateObject(b,e,d);return a.isLastSavedState(g)?a.busy(!1):(a.storeState(g),a.expectedStateId=g.id,p.replaceState(g.id,g.title,g.url),a.Adapter.trigger(c,"popstate")),!0};if(f){try{a.store=l.parse(f.getItem("History.store"))||{}}catch(s){a.store={}}a.normalizeStore()}else a.store={},a.normalizeStore();a.Adapter.bind(c,"beforeunload",a.clearAllIntervals);a.Adapter.bind(c,"unload",a.clearAllIntervals);a.saveState(a.storeState(a.extractState(b.location.href,!0)));f&&(a.onUnload=
function(){var b,c;try{b=l.parse(f.getItem("History.store"))||{}}catch(d){b={}}b.idToState=b.idToState||{};b.urlToId=b.urlToId||{};b.stateToId=b.stateToId||{};for(c in a.idToState)a.idToState.hasOwnProperty(c)&&(b.idToState[c]=a.idToState[c]);for(c in a.urlToId)a.urlToId.hasOwnProperty(c)&&(b.urlToId[c]=a.urlToId[c]);for(c in a.stateToId)a.stateToId.hasOwnProperty(c)&&(b.stateToId[c]=a.stateToId[c]);a.store=b;a.normalizeStore();f.setItem("History.store",l.stringify(b))},a.intervalList.push(k(a.onUnload,
a.options.storeInterval)),a.Adapter.bind(c,"beforeunload",a.onUnload),a.Adapter.bind(c,"unload",a.onUnload));if(!a.emulated.pushState&&(a.bugs.safariPoll&&a.intervalList.push(k(a.safariStatePoll,a.options.safariPollInterval)),"Apple Computer, Inc."===i.vendor||"Mozilla"===(i.appCodeName||"")))a.Adapter.bind(c,"hashchange",function(){a.Adapter.trigger(c,"popstate")}),a.getHash()&&a.Adapter.onDomLoad(function(){a.Adapter.trigger(c,"hashchange")})};a.init()})(window);
/* jquery.scrollTo.min.js */
(function(c){function h(b){return"object"==typeof b?b:{top:b,left:b}}var l=c.scrollTo=function(b,d,a){c(window).scrollTo(b,d,a)};l.defaults={axis:"xy",duration:1.3<=parseFloat(c.fn.jquery)?0:1};l.window=function(){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==c.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return c.browser.safari||
"BackCompat"==b.compatMode?b.body:b.documentElement})};c.fn.scrollTo=function(b,d,a){"object"==typeof d&&(a=d,d=0);"function"==typeof a&&(a={onAfter:a});"max"==b&&(b=9E9);a=c.extend({},l.defaults,a);d=d||a.speed||a.duration;a.queue=a.queue&&1<a.axis.length;a.queue&&(d/=2);a.offset=h(a.offset);a.over=h(a.over);return this._scrollable().each(function(){function n(c){i.animate(e,d,a.easing,c&&function(){c.call(this,b,a)})}var j=this,i=c(j),g=b,m,e={},p=i.is("html,body");switch(typeof g){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(g)){g=
h(g);break}g=c(g,this);case "object":if(g.is||g.style)m=(g=c(g)).offset()}c.each(a.axis.split(""),function(b,c){var d="x"==c?"Left":"Top",k=d.toLowerCase(),f="scroll"+d,h=j[f],o=l.max(j,c);m?(e[f]=m[k]+(p?0:h-i.offset()[k]),a.margin&&(e[f]-=parseInt(g.css("margin"+d))||0,e[f]-=parseInt(g.css("border"+d+"Width"))||0),e[f]+=a.offset[k]||0,a.over[k]&&(e[f]+=g["x"==c?"width":"height"]()*a.over[k])):(d=g[k],e[f]=d.slice&&"%"==d.slice(-1)?parseFloat(d)/100*o:d);/^\d+$/.test(e[f])&&(e[f]=0>=e[f]?0:Math.min(e[f],
o));!b&&a.queue&&(h!=e[f]&&n(a.onAfterFirst),delete e[f])});n(a.onAfter)}).end()};l.max=function(b,d){var a="x"==d?"Width":"Height",h="scroll"+a;if(!c(b).is("html,body"))return b[h]-c(b)[a.toLowerCase()]();var a="client"+a,j=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(j[h],i[h])-Math.min(j[a],i[a])}})(jQuery);
/* openphoto-theme.min.js */
var opTheme=function(){var k,g,f,e,l,j;k=function(){var a=null;return{get:function(){return a},set:function(b){a=b}}}();g=function(a){"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(a)};f={message:function(a){var b="";1<arguments.length&&("error"==arguments[1]?b="error":"confirm"==arguments[1]&&(b="success"));return'<div class="alert-message block-message '+b+'"><a class="modal-close-click close" href="#">x</a>'+a+"</div>"},modal:function(a,b,c){return'<div class="modal-header">  <a href="#" class="close" data-dismiss="modal">&times;</a>  <h3>'+
a+'</h3></div><div class="modal-body">  <p>'+b+'</p></div><div class="modal-footer">'+c+"</div>"}};e=function(){return{clickHandler:function(a){var b=$(a.currentTarget).attr("href");if(History.enabled&&-1==b.search("#")&&(null===b.match(/^http/)||-1!=b.search(document.location.hostname)))a.preventDefault(),get(b)},get:function(a){e.url=a;$.get(e.url,e.store)},replace:function(a,b){var c=b||{};c.type="replace";History.replaceState(c,"",a)},insert:function(a,b){var c=b||{};c.type="insert";History.pushState(c,
"",a)},parse:function(a){var b=$(a),a=$("body",b).attr("class"),b=$(".content",b).html();return{bodyClass:a,content:b}},render:function(a){"replace"===a.type?$(".modal").modal("hide"):void 0!==a.content&&$("undefined"===typeof a.bodyClass||"photo-details"===a.bodyClass?"#modal-photo-detail":".content").fadeTo("fast",0.25,function(){$(this).html(a.content).fadeTo("fast",1)})},store:function(a){a=e.parse(a||{});a.type="store";History.pushState(a,"",e.url)}}}();j=function(){return{fetchAndCache:function(a){$("<img />").attr("src",
a).appendTo("body").css("display","none").on("load",function(a){$(a.target).remove()})},fetchAndCacheNextPrevious:function(){var a=$("img.next-photo"),b=$("img.previous-photo");0<b.length&&OP.Util.fire("preload:photo",{id:b.attr("data-id"),sizes:"870x550"});0<a.length&&OP.Util.fire("preload:photo",{id:a.attr("data-id"),sizes:"870x550"})}}}();return{callback:{actionDelete:function(a){a.preventDefault();var a=$(a.target),b=a.attr("href")+".json",c=a.attr("data-id");OP.Util.makeRequest(b,a.parent().serializeArray(),
function(a){204===a.code?$(".action-container-"+c).hide("medium",function(){$(this).remove()}):opTheme.message.error("Could not delete the photo.")});return!1},actionPost:function(a){a.preventDefault();var b=$("#favorite-form"),a=b.attr("action")+".json",b=b.serialize();$.ajax({url:a,type:"POST",data:b,dataType:"json",success:function(a){location.href=201===a.code?location.pathname+"?c=favorited":location.pathname+"?e=unknown"}})},batchAdd:function(a){$(".pin.photo-"+a.id).addClass("revealed pinned");
opTheme.ui.batchMessage();g("Adding photo "+a.id)},batchClear:function(){$(".pin.pinned").removeClass("revealed pinned");opTheme.ui.batchMessage()},batchField:function(a){var a=$(a.target).val(),b=$("form#batch-edit .form-fields");switch(a){case "delete":b.html(opTheme.ui.batchFormFields.empty());break;case "groups":b.html(opTheme.ui.batchFormFields.groups());break;case "permission":b.html(opTheme.ui.batchFormFields.permission());break;case "tagsAdd":case "tagsRemove":b.html(opTheme.ui.batchFormFields.tags())}},
batchModal:function(){var a=$("#modal"),b=f.modal("Batch edit your pinned photos",'<form id="batch-edit">  <div class="clearfix">    <label>What would you like to do?</label>    <div class="input">      <select id="batch-key" class="batch-field-change" name="property">        <option value="tagsAdd">Add Tags</option>        <option value="tagsRemove">Remove Tags</option>        <option value="groups">Update Groups</option>        <option value="permission">Update Permissions</option>        <option value="delete">Delete</option>      </select>    </div>  </div>  <div class="form-fields">'+
opTheme.ui.batchFormFields.tags()+"</div></form>",'<a href="#" class="btn photo-update-batch-click">Submit</a>');a.html(b).modal()},batchRemove:function(a){$(".pin.photo-"+a).removeClass("pinned revealed");opTheme.ui.batchMessage();g("Removing photo "+a)},commentJump:function(a){a.preventDefault();$.scrollTo($("div.comment-form"),200);return!1},credentailDelete:function(a){a.preventDefault();var b=$(a.target),a=b.attr("href")+".json";OP.Util.makeRequest(a,{},function(a){204===a.code?(b.parent().parent().slideUp("medium",
function(){this.remove()}),opTheme.message.confirm("Application successfully deleted.")):opTheme.message.error("Could not delete Application.")});return!1},groupCheckbox:function(a){a=$(a.target);a.hasClass("none")&&a.is(":checked")?$("input.group-checkbox:not(.none)").removeAttr("checked"):a.is(":checked")&&$("input.group-checkbox.none").removeAttr("checked")},groupDelete:function(a){a.preventDefault();var a=$(a.target),b=a.attr("href")+".json",c=a.parent();OP.Util.makeRequest(b,function(a){204===
a.code?c.slideUp("medium",function(){this.remove()}):opTheme.message.error("We could not delete this group.")})},groupEmailAdd:function(a){a.preventDefault();var a=$(a.target).prev(),b=$("ul.group-emails-add-list"),c=a.val();""!==c&&($('<li><span class="group-email-queue">'+c+'</span> <a href="#" class="group-email-remove-click"><i class="group-email-remove-click icon-minus-sign"></i></a></li>').prependTo(b),a.val(""))},groupEmailRemove:function(a){a.preventDefault();$(a.target).parent().parent().remove()},
groupPost:function(a){a.preventDefault();var a=$(a.target).parent(),b=a.attr("action")+".json",c=-1<b.search("create"),d,e={name:$('input[name="name"]',a).val()};$(".group-email-add-click",a).trigger("click");d=[];$("span.group-email-queue",a).each(function(a,b){d.push($(b).html())});e.members=d.join(",");OP.Util.makeRequest(b,e,function(a){200===a.code||201===a.code?c?location.href="/manage/groups?m=group-created":opTheme.message.confirm("Group updated successfully."):opTheme.message.error("Could not update group.")});
return!1},keyBrowseNext:function(a){!a.ctrlKey&&!a.altKey&&!a.metaKey&&$("img.next-photo").click()},keyBrowsePrevious:function(a){!a.ctrlKey&&!a.altKey&&!a.metaKey&&$("img.previous-photo").click()},login:function(a){a.preventDefault();a=$(a.target);a.hasClass("browserid")?navigator.id.getVerifiedEmail(function(a){a?opTheme.user.browserid.loginSuccess(a):opTheme.user.browserid.loginFailure(a)}):a.hasClass("facebook")&&FB.login(function(a){a.authResponse?(g("User logged in, posting to openphoto host."),
OP.Util.makeRequest("/user/facebook/login.json",opTheme.user.base.loginProcessed)):g("User cancelled login or did not fully authorize.")},{scope:"email"});return!1},loginModal:function(a){a.preventDefault();$("#loginBox").modal()},modalClose:function(a){a.preventDefault();$(a.target).parent().parent().slideUp("fast",function(){$(this).remove()})},modalUnload:function(){$("#modal-photo-detail").html("");e.replace(l)},photoDelete:function(a){a.preventDefault();var b=$(a.target),a=b.parent().attr("action")+
".json";OP.Util.makeRequest(a,b.parent().serializeArray(),function(a){204===a.code?(b.html("This photo has been deleted"),opTheme.message.confirm("This photo has been deleted.")):opTheme.message.error("Could not delete the photo.")});return!1},photoEdit:function(a){a.preventDefault();a="/photo/"+$(a.target).attr("data-id")+"/edit.json";OP.Util.makeRequest(a,{},function(a){if(200===a.code){var c=$("#modal"),a=f.modal("Edit this photo",a.result.markup,'<a href="#" class="btn btn-primary photo-update-click">Save</a>');
c.html(a).modal()}else opTheme.message.error("Could not load the form to edit this photo.")},"json","get");return!1},photoView:function(a){a.preventDefault();a=$(a.target).parent();$(".photo-view");var b=a.attr("href"),a=b;if($("body").hasClass("photo-details"))location.href=b;else{var c=$("#modal-photo-detail");$("#modal-photo-detail .photo-view");a=-1===a.indexOf("?")?a+"?modal=true":a+"&modal=true";c.load(a+" .photo-view",function(a){$("img.next-photo");$("img.previous-photo");e.insert(b,e.parse(a));
j.fetchAndCacheNextPrevious()})}return!1},photoViewModal:function(a){a.preventDefault();a=$(a.target).parent();$(".photo-view");var b=a=a.attr("href"),c=$("#modal-photo-detail"),b=-1===b.indexOf("?")?b+"?modal=true":b+"&modal=true";location.hash=a;c.load(b+" .photo-view",opTheme.callback.photoViewModalCb).modal().on("hidden",opTheme.callback.modalUnload);return!1},photoViewModalCb:function(a){j.fetchAndCacheNextPrevious();e.insert(location.hash,e.parse(a))},photoUpdate:function(){var a=$("#photo-edit-form"),
b=a.attr("action")+".json",a=a.serialize();OP.Util.makeRequest(b,a,opTheme.callback.photoUpdateCb,"json","post")},photoUpdateBatch:function(a){a.preventDefault();var b=$(a.target),a=$("#batch-key").val(),c=$("form#batch-edit").find("*[name='value']"),d;b.html("Submitting...").attr("disabled","disabled");1==c.length?d=c.val():(b=$("form#batch-edit").find("*[name='value']:checked"),1==b.length?d=b.val():(d=[],b.each(function(a,b){d.push($(b).val())}),d=d.join(",")));params={crumb:k.get()};params[a]=
d;params.ids=OP.Batch.collection.getIds().join(",");"delete"!==a?OP.Util.makeRequest("/photos/update.json",params,opTheme.callback.photoUpdateBatchCb,"json","post"):OP.Util.makeRequest("/photos/delete.json",params,opTheme.callback.photoUpdateBatchCb,"json","post")},photoUpdateBatchCb:function(a){200==a.code?opTheme.message.append(f.message("Your photos were successfully updated.","confirm")):204==a.code?(OP.Batch.clear(),opTheme.message.append(f.message("Your photos were successfully deleted.","confirm"))):
opTheme.message.append(f.message("There was a problem updating your photos.","error"));$("#modal").modal("hide")},photoUpdateCb:function(a){200===a.code?opTheme.message.confirm("Your photo was successfully updated."):opTheme.message.error("We could not update your photo.");$("#modal").modal("hide")},photosViewMore:function(a){a.preventDefault();opTheme.init.pages.photos.load()},pinClick:function(a){var a=$(a.target),b=a.attr("data-id");a.hasClass("pinned")?OP.Batch.remove(b):OP.Batch.add(b)},pinClearClick:function(a){a.preventDefault();
OP.Batch.clear()},pluginStatus:function(a){a.preventDefault();a=$(a.target).attr("href")+".json";OP.Util.makeRequest(a,{},function(a){200===a.code?window.location.reload():opTheme.message.error("Could not update the status of this plugin.")},"json","post");return!1},pluginUpdate:function(a){a.preventDefault();var a=$(a.target).parent(),b=a.attr("action")+".json";OP.Util.makeRequest(b,a.serializeArray(),function(a){200===a.code?opTheme.message.confirm("Your plugin was successfully updated."):opTheme.message.error("Could not update the status of this plugin.")},
"json","post");return!1},preloadPhoto:function(a){OP.Util.makeRequest("/photo/"+a.id+"/view.json",{returnSizes:a.sizes,generate:"true"},opTheme.callback.preloadPhotoCb,"json","get")},preloadPhotoCb:function(a){var b=a.result;if(200===a.code)for(i in b)b.hasOwnProperty(i)&&!0===/^path[0-9]/.test(i)&&j.fetchAndCache(b[i])},searchByTags:function(a){a.preventDefault();var a=$(a.target).parent().parent(),b=$($("input[name=tags]",a)[0]).val(),c=a.attr("action");0<b.length&&(0<c.search("/list")?location.href=
c.replace("/list","")+"/tags-"+b+"/list":a.submit());return!1},settings:function(){$("ul#settingsbar").slideToggle("medium");$("li#nav-signin").toggleClass("active");return!1},tagsInitialized:function(){var a=OP.Tag.getTags();null!==a&&0<a.length&&$(".typeahead-tags").typeahead({source:a,mode:"multiple"})},uploadCompleteSuccess:function(){$("form.upload").fadeOut("fast",function(){$(".upload-progress").fadeOut("fast",function(){$(".upload-complete").fadeIn("fast")});$(".upload-share").fadeIn("fast")})},
uploadCompleteFailure:function(){$("form.upload").fadeOut("fast",function(){$(".upload-progress").fadeOut("fast",function(){$(".upload-warning .failed").html(failed);$(".upload-warning .total").html(total);$(".upload-warning").fadeIn("fast")})})},webhookDelete:function(a){a.preventDefault();var b=$(a.target),a=b.attr("href")+".json";OP.Util.makeRequest(a,{},function(a){204===a.code?(b.parent().remove(),opTheme.message.confirm("Credential successfully deleted.")):opTheme.message.error("Could not delete credential.")});
return!1}},init:{load:function(a){var b="state"in window.history,c=location.href;k.set(a);OP.Tag.init();l=location.pathname;History.Adapter.bind(window,"statechange",function(){var a=History.getState(),g=!b&&location.href==c;b=!0;g||e.render(a.data)});"object"===typeof OPU&&OPU.init();$(".dropdown-toggle").dropdown();"/"===location.pathname?opTheme.init.pages.front():"/manage"===location.pathname?opTheme.init.pages.manage():0===location.pathname.search(/^\/photos(.*)\/list/)?opTheme.init.pages.photos.init():
(0===location.pathname.search(/^\/p\/[a-z0-9]+/)||0===location.pathname.search(/^\/photo\/[a-z0-9]+\/?(.*)\/view/))&&opTheme.init.pages.photo.init()},attach:function(){OP.Util.on("click:action-delete",opTheme.callback.actionDelete);OP.Util.on("click:action-jump",opTheme.callback.commentJump);OP.Util.on("click:action-post",opTheme.callback.actionPost);OP.Util.on("click:batch-modal",opTheme.callback.batchModal);OP.Util.on("click:credential-delete",opTheme.callback.credentailDelete);OP.Util.on("click:group-checkbox",
opTheme.callback.groupCheckbox);OP.Util.on("click:group-delete",opTheme.callback.groupDelete);OP.Util.on("click:group-email-add",opTheme.callback.groupEmailAdd);OP.Util.on("click:group-email-remove",opTheme.callback.groupEmailRemove);OP.Util.on("click:group-post",opTheme.callback.groupPost);OP.Util.on("click:login",opTheme.callback.login);OP.Util.on("click:login-modal",opTheme.callback.loginModal);OP.Util.on("click:modal-close",opTheme.callback.modalClose);OP.Util.on("click:nav-item",opTheme.callback.searchBarToggle);
OP.Util.on("click:photo-delete",opTheme.callback.photoDelete);OP.Util.on("click:photo-edit",opTheme.callback.photoEdit);OP.Util.on("click:plugin-status",opTheme.callback.pluginStatus);OP.Util.on("click:plugin-update",opTheme.callback.pluginUpdate);OP.Util.on("click:photo-update",opTheme.callback.photoUpdate);OP.Util.on("click:photo-update-batch",opTheme.callback.photoUpdateBatch);OP.Util.on("click:photo-view",opTheme.callback.photoView);OP.Util.on("click:photo-view-modal",opTheme.callback.photoViewModal);
OP.Util.on("click:photos-load-more",opTheme.callback.photosViewMore);OP.Util.on("click:pin",opTheme.callback.pinClick);OP.Util.on("click:pin-clear",opTheme.callback.pinClearClick);OP.Util.on("click:search",opTheme.callback.searchByTags);OP.Util.on("click:settings",opTheme.callback.settings);OP.Util.on("click:webhook-delete",opTheme.callback.webhookDelete);OP.Util.on("keydown:browse-next",opTheme.callback.keyBrowseNext);OP.Util.on("keydown:browse-previous",opTheme.callback.keyBrowsePrevious);OP.Util.on("change:batch-field",
opTheme.callback.batchField);OP.Util.on("callback:batch-add",opTheme.callback.batchAdd);OP.Util.on("callback:batch-remove",opTheme.callback.batchRemove);OP.Util.on("callback:batch-clear",opTheme.callback.batchClear);OP.Util.on("callback:tags-initialized",opTheme.callback.tagsInitialized);OP.Util.on("upload:complete-success",opTheme.callback.uploadCompleteSuccess);OP.Util.on("upload:complete-failure",opTheme.callback.uploadCompleteFailure);OP.Util.on("tags:autocomplete",opTheme.callback.tagsAutocomplete);
OP.Util.on("preload:photo",opTheme.callback.preloadPhoto)},pages:{front:function(){$(".carousel.front").swipe({swipeLeft:function(){("undefined"===typeof newBG||"undefined"===newBG)&&$(".carousel").carousel("next")},swipeRight:function(){("undefined"===typeof newBG||"undefined"===newBG)&&$(".carousel").carousel("prev")},threshold:100});$(".carousel.front").carousel({interval:7E3});$(".carousel.front").on("slid",function(){var a=$(".carousel.front .active"),a=parseInt(a.attr("data-index"))+1;$(".carouselthumbs .active").removeClass("active");
$(".carouselthumbs li:nth-child("+a+") a").addClass("active")});$(".carousel.feed").carousel();$(".carousel.feed").carousel("pause")},manage:function(){var a=OP.Batch.collection.getAll(),b=OP.Batch.collection.getLength(),c=$(".pin"),d,e;0<b&&opTheme.ui.batchMessage();c.each(function(b,c){c=$(c);d=c.attr("class");e=d.match(/ photo-([a-z0-9]+)/);2==e.length&&void 0!==a[e[1]]&&c.addClass("revealed pinned")})},photo:{init:function(){j.fetchAndCacheNextPrevious()}},photos:{page:null,pageCount:0,end:!1,
running:!1,init:function(){var a=opTheme.init.pages.photos;$(window).scroll(a.scrollCb);a.load()},scrollCb:function(){var a=opTheme.init.pages.photos;$(window).scrollTop()>$(document).height()-$(window).height()-200&&a.load()},load:function(){var a=opTheme.init.pages.photos;loc=location;if(!a.end&&!a.running){a.running=!0;if(null===a.page){var b=loc.href.match("page=([0-9]+)");null!==b?a.page=b[1]:(b=loc.pathname.match(/\/page-([0-9]+)/),null!==b&&(a.page=b[1]));null===a.page&&(a.page=1)}b=location.pathname+
".json";params={};qs=window.location.search.replace("?","");if(0<qs.length){var c=qs.split("&"),d;for(i in c)c.hasOwnProperty(i)&&(d=c[i].split("="),2===d.length&&(params[d[0]]=d[1]))}params.returnSizes="960x180";params.page=a.page;$.getJSON(b,params,a.loadCb)}},loadCb:function(a){var a=a.result,b=opTheme.init.pages.photos,c=$(".infobar"),d=$(".startdate",c),c=$(".enddate",c);parseInt(d.attr("data-time"));var e=parseInt(c.attr("data-time")),g=opTheme.ui,f;if(a[0].totalPages>=b.page){var h;for(f=0;f<
a.length;f++)h=parseInt(a[f].dateTaken),h>e?(g.fadeAndSet(c,phpjs.date("l F jS, Y",h)),c.attr("data-time",h),e=h):parseInt(a[f].dateTaken)<parseInt(d.attr("data-time"))&&(g.fadeAndSet(d,phpjs.date("l F jS, Y",h)),d.attr("data-time",h));Gallery.showImages($(".photo-grid-justify"),a);b.page++;b.pageCount++;b.running=!1}else $(".load-more").hide(),b.end=!0}}}},message:{append:function(a){var b=$(".message:first").clone(!1),c=$(".message:last");b.addClass("alert alert-info").html(a);c.after(b).slideDown()},
confirm:function(a){opTheme.message.show(a,"confirm")},error:function(a){opTheme.message.show(a,"error")},show:function(a,b){opTheme.message.append(f.message(a,b))}},ui:{batchFormFields:{empty:function(){return""},groups:function(){var a,b="";$.ajax({url:"/groups/list.json",async:!1,success:function(c){if(200===c.code)for(i in c.result)c.result.hasOwnProperty(i)&&(a=c.result[i],b+='<label class="checkbox inline"><input type="checkbox" name="value" value="'+a.id+'" class="group-checkbox-click group-checkbox">'+
a.name+"</label>")}});return b},permission:function(){return'  <label class="radio">    <input type="radio" name="value" value="1" checked="checked">    Public  </label>  <label class="radio">    <input type="radio" name="value" value="0">     Private  </label>'},tags:function(){return'  <label>Tags</label>  <input type="text" name="value" class="tags-autocomplete" placeholder="A comma separated list of tags" value="">'}},batchMessage:function(){var a=OP.Batch.collection.getLength();0<$("#batch-message").length&&
0<a?$("#batch-count").html(a):0==a?$("#batch-message").parent().parent().slideUp("fast",function(){$(this).html("").removeClass()}):opTheme.message.append(f.message('  <a id="batch-message"></a>You have <span id="batch-count">'+a+'</span> photos pinned.  <div><a class="btn small info batch-modal-click" data-controls-modal="modal" data-backdrop="static">Batch edit</a>&nbsp;<a href="#" class="btn small pin-clear-click">Or clear pins</a></div>'))},fadeAndSet:function(a,b){var c=$(a);c.fadeOut("fast",
function(){c.html(b).fadeIn("fast")})}},user:{base:{loginProcessed:function(a){200!=a.code?g("processing of login failed"):(g("login processing succeeded"),window.location.reload())}},browserid:{loginFailure:function(){g("login failed")},loginSuccess:function(a){OP.Util.makeRequest("/user/browserid/login.json",{assertion:a},opTheme.user.base.loginProcessed)}}}}}();
/* phpjs.min.js */
var phpjs=function(){return{date:function(i,j){var d,a,g=/\\?([a-z])/gi,f,e=function(b,a){return(b+="").length<a?Array(++a-b.length).join("0")+b:b},h="Sun,Mon,Tues,Wednes,Thurs,Fri,Satur,January,February,March,April,May,June,July,August,September,October,November,December".split(",");f=function(b,c){return a[b]?a[b]():c};a={d:function(){return e(a.j(),2)},D:function(){return a.l().slice(0,3)},j:function(){return d.getDate()},l:function(){return h[a.w()]+"day"},N:function(){return a.w()||7},S:function(){var b=
a.j();return 4>b|20<b&&["st","nd","rd"][b%10-1]||"th"},w:function(){return d.getDay()},z:function(){var b=new Date(a.Y(),a.n()-1,a.j()),c=new Date(a.Y(),0,1);return Math.round((b-c)/864E5)+1},W:function(){var b=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),c=new Date(b.getFullYear(),0,4);return e(1+Math.round((b-c)/864E5/7),2)},F:function(){return h[6+a.n()]},m:function(){return e(a.n(),2)},M:function(){return a.F().slice(0,3)},n:function(){return d.getMonth()+1},t:function(){return(new Date(a.Y(),a.n(),
0)).getDate()},L:function(){var b=a.Y();return 0==b%4&0!=b%100|0==b%400},o:function(){var b=a.n(),c=a.W();return a.Y()+(12===b&&9>c?-1:1===b&&9<c)},Y:function(){return d.getFullYear()},y:function(){return(a.Y()+"").slice(-2)},a:function(){return 11<d.getHours()?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var a=3600*d.getUTCHours(),c=60*d.getUTCMinutes(),f=d.getUTCSeconds();return e(Math.floor((a+c+f+3600)/86.4)%1E3,3)},g:function(){return a.G()%12||12},G:function(){return d.getHours()},
h:function(){return e(a.g(),2)},H:function(){return e(a.G(),2)},i:function(){return e(d.getMinutes(),2)},s:function(){return e(d.getSeconds(),2)},u:function(){return e(1E3*d.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)";},I:function(){var b=new Date(a.Y(),0),c=Date.UTC(a.Y(),0),d=new Date(a.Y(),6),e=Date.UTC(a.Y(),6);return 0+(b-c!==d-e)},O:function(){var a=d.getTimezoneOffset(),c=Math.abs(a);return(0<a?"-":"+")+e(100*Math.floor(c/
60)+c%60,4)},P:function(){var b=a.O();return b.substr(0,3)+":"+b.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-d.getTimezoneOffset()},c:function(){return"Y-m-d\\Th:i:sP".replace(g,f)},r:function(){return"D, d M Y H:i:s O".replace(g,f)},U:function(){return d/1E3|0}};this.date=function(a,c){d=null==c?new Date:c instanceof Date?new Date(c):new Date(1E3*c);return a.replace(g,f)};return this.date(i,j)}}}();
/* touchSwipe.min.js */
(function(s){s.fn.swipe=function(d){if(!this)return!1;var b={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto"},p="left",t="right",u="up",v="down",w="none",x="horizontal",y="vertical",G="auto",H="start",z="move",q="end",k="cancel",e="ontouchstart"in window,I=e?"touchstart":"mousedown",A=e?"touchmove":"mousemove",B=e?"touchend":"mouseup",c="start";if(void 0==d.allowPageScroll&&(void 0!=
d.swipe||void 0!=d.swipeStatus))d.allowPageScroll=w;d&&s.extend(b,d);return this.each(function(){var g,d,n,o;function J(a){var h=e?a.touches[0]:a;c=H;e&&(i=a.touches.length);distance=0;direction=null;i==b.fingers||!e?(n=g=h.pageX,o=d=h.pageY,b.swipeStatus&&l(a,c)):m(a);r.addEventListener(A,C,!1);r.addEventListener(B,D,!1)}function C(a){if(!(c==q||c==k)){var h=e?a.touches[0]:a;g=h.pageX;d=h.pageY;direction=E();e&&(i=a.touches.length);c=z;h=direction;if(b.allowPageScroll==w)a.preventDefault();else{var f=
b.allowPageScroll==G;switch(h){case p:(b.swipeLeft&&f||!f&&b.allowPageScroll!=x)&&a.preventDefault();break;case t:(b.swipeRight&&f||!f&&b.allowPageScroll!=x)&&a.preventDefault();break;case u:(b.swipeUp&&f||!f&&b.allowPageScroll!=y)&&a.preventDefault();break;case v:(b.swipeDown&&f||!f&&b.allowPageScroll!=y)&&a.preventDefault()}}i==b.fingers||!e?(distance=F(),b.swipeStatus&&l(a,c,direction,distance),!b.triggerOnTouchEnd&&distance>=b.threshold&&(c=q,l(a,c),m(a))):(c=k,l(a,c),m(a))}}function D(a){a.preventDefault();
distance=F();direction=E();b.triggerOnTouchEnd?(c=q,(i==b.fingers||!e)&&0!=g?distance>=b.threshold||(c=k):c=k,l(a,c),m(a)):c==z&&(c=k,l(a,c),m(a));r.removeEventListener(A,C,!1);r.removeEventListener(B,D,!1)}function m(){d=g=o=n=i=0}function l(a,c){b.swipeStatus&&b.swipeStatus.call(j,a,c,direction||null,distance||0);c==k&&b.click&&(1==i||!e)&&(isNaN(distance)||0==distance)&&b.click.call(j,a,a.target);if(c==q)switch(b.swipe&&b.swipe.call(j,a,direction,distance),direction){case p:b.swipeLeft&&b.swipeLeft.call(j,
a,direction,distance);break;case t:b.swipeRight&&b.swipeRight.call(j,a,direction,distance);break;case u:b.swipeUp&&b.swipeUp.call(j,a,direction,distance);break;case v:b.swipeDown&&b.swipeDown.call(j,a,direction,distance)}}function F(){return Math.round(Math.sqrt(Math.pow(g-n,2)+Math.pow(d-o,2)))}function E(){var a;a=Math.atan2(d-o,n-g);a=Math.round(180*a/Math.PI);0>a&&(a=360-Math.abs(a));return 45>=a&&0<=a?p:360>=a&&315<=a?p:135<=a&&225>=a?t:45<a&&135>a?v:u}var r=this,j=s(this),i=0;n=0;o=0;g=0;d=
0;try{this.addEventListener(I,J,!1),this.addEventListener("touchcancel",m)}catch(K){}})}})(jQuery);
